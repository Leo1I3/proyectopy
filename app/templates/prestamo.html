<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="static/bootstrap-5.3.0-alpha1-dist/resources/css/app.css">
    <script type="module" src="static/bootstrap-5.3.0-alpha1-dist/resources/js/app.js" defer></script>
    <link rel="stylesheet" href="static/bootstrap-5.3.0-alpha1-dist/resources/css/Bienvenido.css">
    <script type="module" src="static/bootstrap-5.3.0-alpha1-dist/resources/js/Bienvenido.js" defer></script>
    <title>prestamo</title>
</head>

<body class="bodyDevolucion" style="background-image: url('/Images/Como-gestionar-las-devoluciones-y-mejorar-la-trazabilidad.png')">
    {% include 'partials/nav.html' %}
    <div class="container divPrincipal">
        <h2>Registro de Salidas</h2>

        <!-- Formulario para ingresar la fecha de salida -->
        <form action="{{ url_for('salida_equipo.add') }}" method="post">
            
            <div class="form-group">
                <label for="fechaSalida">Fecha de Salida:</label>
                <input type="date" class="form-control" id="fechaSalida" name="fechaSalida">
            </div>

            <div class="form-group">
                <label for="idSalida">ID de usuario:</label>

                <select class="form-control" name="idusuario">
                    <option value="">seleccione</option>
                    {% for usuario in data1 %}
                        <option value="{{ usuario.idusuario }}">{{ usuario.nombre }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="idEquipo">ID de administrador:</label>
                <select class="form-control" id="idEquipo" name="idAdministrador">
                    <option value="">seleccione</option>
                    {% for administrador in data2 %}
                        <option value="{{ administrador.idAdministrador }}">{{ administrador.nombreAdministrador }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="idEquipo">ID de Equipo:</label>
                <select class="form-control" name="idequipo">
                    <option value="">seleccione</option>
                    {% for equipo in data3 %}
                        <option value="{{ equipo.idequipo }}">{{ equipo.codigoE }}</option>
                    {% endfor %}
                </select>
            </div>
            <button type="submit" class="btn btn-primary" name="faccion" value="insertar">Guardar</button>
        </form>

        <!-- Tabla para listar las salidas -->
        <h3>Lista de Salidas</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>ID Salida</th>
                    <th>Fecha de Salida</th>
                    <th>ID Usuario</th>
                    <th>ID Administrador</th>
                    <th>codigo equipo</th>
                </tr>
            </thead>
            <tbody>
                {% for salida_equipo in data %}
                    <tr>
                        <td>{{ salida_equipo.idSalida }}</td>
                        <td>{{ salida_equipo.fechaSalida }}</td>
                        <td>{{ salida_equipo.usuario.nombre }}</td>
                        <td>{{ salida_equipo.administrador.nombreAdministrador }}</td>
                        <td>{{ salida_equipo.equipo.codigoE }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>

</html>
